diff -r ca492bc7444d keyring/backends/kwallet.py
--- a/keyring/backends/kwallet.py	Fri Mar 21 10:32:55 2014 -0400
+++ b/keyring/backends/kwallet.py	Tue May 06 18:30:43 2014 +0200
@@ -62,6 +62,8 @@
             KWallet.__name__
         if exc:
             raise RuntimeError("KDE libraries not available")
+        if "DISPLAY" not in os.environ:
+            raise RuntimeError("cannot connect to X server")
         # Infer if KDE environment is active based on environment vars.
         # TODO: Does PyKDE provide a better indicator?
         kde_session_keys = (
