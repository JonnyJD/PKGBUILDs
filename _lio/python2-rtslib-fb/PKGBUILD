# Contributor: Johannes Dewender  arch at JonnyJD dot net
pkgname=python2-rtslib-fb
_pkgname=rtslib-fb
pkgver=2.1.fb39
pkgrel=2
epoch=
pkgdesc="free branch version of the LIO target API"
arch=('any')
url="https://github.com/agrover/rtslib-fb"
license=('Apache')
depends=('python2-ipaddr' 'python2-ethtool')
# this is incompatible to python2-rtslib
provides=()
conflicts=('python2-rtslib')
backup=()
options=()
install=
source=($_pkgname-$pkgver.tar.gz::https://github.com/agrover/$_pkgname/archive/v$pkgver.tar.gz 0001-fix-MappedLun-typo.patch)
md5sums=('5e54cda9fc02b69833dda5df09fbf665'
         '9c67b12082179e3d121eea0d402e4b62')

prepare() {
  cd "$srcdir/$_pkgname-$pkgver"
  patch -p1 < ../0001-fix-MappedLun-typo.patch
}

build() {
  cd "$srcdir/$_pkgname-$pkgver"
  python2 setup.py build
}

package() {
  cd "$srcdir/$_pkgname-$pkgver"
  python2 setup.py install --skip-build --root="$pkgdir/" --optimize=1
}

# vim:set ts=2 sw=2 et:
